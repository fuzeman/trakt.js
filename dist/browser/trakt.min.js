!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.trakt=e():t.trakt=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.RefreshDisableAt=e.RefreshAt=e.Build=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),a=n(123),c=r(a),s=n(127),f=r(s),p=n(129),l=r(p),v=e.Build={Version:"2.0.0-alpha.2",Date:"2016-10-01"},d=e.RefreshAt=604800,y=e.RefreshDisableAt=-2419200;(0,u.isDefined)(fetch)||console.error('"fetch" is not available, include whatwg-fetch to support this environment'),(0,u.isDefined)(Promise)||console.error('"Promise" is not available, include babel-polyfill to support this environment');e.Client=function(){function t(e,n,r){o(this,t),r=(0,u.setDefaults)(r,{debug:!1,onSessionRefreshed:null,session:null,sessionKey:null}),this.key=e||null,this.secret=n||null,this.application={name:"trakt.js",version:v.Version,date:v.Date},this.build=v,this.session=null,(0,u.isDefined)(r.session)?this.session=r.session:(0,u.isDefined)(r.sessionKey)&&(this.session={key:r.sessionKey}),this.onSessionRefreshed=r.onSessionRefreshed,this.debug=r.debug,this.http=null,this._initialized=!1,this._interfaces={},this._refreshing=Promise.resolve(),this.initialize()}return i(t,[{key:"initialize",value:function(){this._initialized||(this.http=new c["default"](this),this._interfaces=this._constructInterfaces(f["default"]),this._initialized=!0)}},{key:"getSession",value:function(t){var e=this;return t=(0,u.setDefaults)(t,{refresh:!0}),this._refreshing.then(function(){var n=e.session;return(0,u.isDefined)(n)?((0,u.isFunction)(n)&&(n=n()),Promise.resolve(n).then(function(n){if(!(0,u.isDefined)(n))return Promise.reject(new Error("No session available"));(0,u.isDefined)(n.created_at)&&(0,u.isDefined)(n.expires_in)||console.warn("Missing session expiry properties, unable to determine session validity");var r=Math.round(n.created_at+n.expires_in-Date.now()/1e3);return r>d?((0,u.isDefined)(e.onSessionRefreshed)||console.warn("onSessionRefreshed callback hasn't been implemented, session will expire in %d second(s)",Math.round(r)),n):r<y?Promise.reject(new Error("Session expired "+Math.round(Math.abs(r))+" second(s) ago")):(0,u.isDefined)(e.onSessionRefreshed)?(r<0&&console.warn("Session expired "+Math.round(Math.abs(r))+" second(s) ago"),t.refresh?(e._refreshing=e._refreshSession(n),e._refreshing.then(function(){return e.getSession({refresh:!1})})):(console.warn("Token refresh has been disabled"),n)):r<0?Promise.reject(new Error("Session expired "+Math.round(Math.abs(r))+" second(s) ago")):(console.warn("onSessionRefreshed callback hasn't been implemented, unable to refresh session"),n)})):Promise.reject(new Error("No session available"))})}},{key:"_constructInterfaces",value:function(t){var e,n=this,r={};return Object.keys(t).forEach(function(o){e=t[o],e.prototype instanceof l["default"]?r[o]=new e(n):r[o]=n._constructInterfaces(e)}),r}},{key:"_refreshSession",value:function(t){var e=this;return(0,u.isDefined)(t)&&(0,u.isDefined)(t.refresh_token)?((0,u.isDefined)(t.redirect_uri)||console.warn('Session has no "redirect_uri" property, defaulting to "urn:ietf:wg:oauth:2.0:oob"'),(0,u.isDefined)(this.onSessionRefreshed)?this.oauth.refresh(t.refresh_token,t.redirect_uri).then(function(t){(0,u.isDefined)(e.onSessionRefreshed)&&e.onSessionRefreshed(t)},function(t){console.error("Unable to refresh session:",t.stack)}):Promise.reject(new Error("Unable to refresh session, onSessionRefreshed callback hasn't been implemented"))):Promise.reject(new Error('Unable to refresh session, no "refresh_token" property is available'))}},{key:"siteUrl",get:function(){var t=this.http.baseUrl.split("://"),e=t[1].split(".");return e.shift(),[t[0],e.join(".")].join("://")}},{key:"users",get:function(){return this._interfaces.users}},{key:"oauth",get:function(){return this._interfaces.oauth}},{key:"scrobble",get:function(){return this._interfaces.scrobble}},{key:"search",get:function(){return this._interfaces.search}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return"undefined"!=typeof t&&null!==t}function i(t){return o(t)&&"[object Function]"==={}.toString.call(t)}function u(t){return o(t)&&"[object String]"==={}.toString.call(t)}function a(t,e){return o(t)?(0,s["default"])({},e,t):e}Object.defineProperty(e,"__esModule",{value:!0}),e.isDefined=o,e.isFunction=i,e.isString=u,e.setDefaults=a;var c=n(3),s=r(c)},function(t,e,n){var r,o;r=[n(4),n(112)],o=function(t,e){var n=e(function(e,n,r){t(e,n,r)});return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(5),n(45),n(46),n(48),n(51),n(58),n(23),n(106)],o=function(t,e,n,r,o,i,u,a){function c(f,p,l,v,d){if(f!==p){if(!i(p)&&!a(p))var y=r(p);e(y||p,function(e,r){if(y&&(r=e,e=p[r]),u(e))d||(d=new t),o(f,p,r,l,c,v,d);else{var i=v?v(f[r],e,r+"",f,p,d):s;i===s&&(i=e),n(f,r,i)}})}}var s;return c}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(6),n(14),n(15),n(16),n(17),n(18)],o=function(t,e,n,r,o,i){function u(e){var n=this.__data__=new t(e);this.size=n.size}return u.prototype.clear=e,u.prototype["delete"]=n,u.prototype.get=r,u.prototype.has=o,u.prototype.set=i,u}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(7),n(8),n(11),n(12),n(13)],o=function(t,e,n,r,o){function i(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}return i.prototype.clear=t,i.prototype["delete"]=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,i}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(){this.__data__=[],this.size=0}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(9)],o=function(t){function e(e){var n=this.__data__,o=t(n,e);if(o<0)return!1;var i=n.length-1;return o==i?n.pop():r.call(n,o,1),--this.size,!0}var n=Array.prototype,r=n.splice;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(10)],o=function(t){function e(e,n){for(var r=e.length;r--;)if(t(e[r][0],n))return r;return-1}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){return t===e||t!==t&&e!==e}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(9)],o=function(t){function e(e){var r=this.__data__,o=t(r,e);return o<0?n:r[o][1]}var n;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(9)],o=function(t){function e(e){return t(this.__data__,e)>-1}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(9)],o=function(t){function e(e,n){var r=this.__data__,o=t(r,e);return o<0?(++this.size,r.push([e,n])):r[o][1]=n,this}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(6)],o=function(t){function e(){this.__data__=new t,this.size=0}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return this.__data__.get(t)}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return this.__data__.has(t)}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(6),n(19),n(30)],o=function(t,e,n){function r(r,i){var u=this.__data__;if(u instanceof t){var a=u.__data__;if(!e||a.length<o-1)return a.push([r,i]),this.size=++u.size,this;u=this.__data__=new n(a)}return u.set(r,i),this.size=u.size,this}var o=200;return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20),n(26)],o=function(t,e){var n=t(e,"Map");return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(21),n(29)],o=function(t,e){function n(n,o){var i=e(n,o);return t(i)?i:r}var r;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(22),n(24),n(23),n(28)],o=function(t,e,n,r){function o(o){if(!n(o)||e(o))return!1;var i=t(o)?p:u;return i.test(r(o))}var i=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,s=a.toString,f=c.hasOwnProperty,p=RegExp("^"+s.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return o}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(23)],o=function(t){function e(e){var o=t(e)?i.call(e):"";return o==n||o==r}var n="[object Function]",r="[object GeneratorFunction]",o=Object.prototype,i=o.toString;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(25)],o=function(t){function e(t){return!!n&&n in t}var n=function(){var e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(26)],o=function(t){var e=t["__core-js_shared__"];return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(27)],o=function(t){var e="object"==typeof self&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;(function(n){r=[],o=function(){var t="object"==typeof n&&n&&n.Object===Object&&n;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))}).call(e,function(){return this}())},function(t,e,n){var r,o;r=[],o=function(){function t(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var e=Function.prototype,n=e.toString;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,n){return null==t?e:t[n]}var e;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(31),n(39),n(42),n(43),n(44)],o=function(t,e,n,r,o){function i(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}return i.prototype.clear=t,i.prototype["delete"]=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,i}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(32),n(6),n(19)],o=function(t,e,n){function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(33),n(35),n(36),n(37),n(38)],o=function(t,e,n,r,o){function i(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}return i.prototype.clear=t,i.prototype["delete"]=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,i}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(34)],o=function(t){function e(){this.__data__=t?t(null):{},this.size=0}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20)],o=function(t){var e=t(Object,"create");return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(34)],o=function(t){function e(e){var o=this.__data__;if(t){var u=o[e];return u===r?n:u}return i.call(o,e)?o[e]:n}var n,r="__lodash_hash_undefined__",o=Object.prototype,i=o.hasOwnProperty;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(34)],o=function(t){function e(e){var r=this.__data__;return t?r[e]!==n:o.call(r,e)}var n,r=Object.prototype,o=r.hasOwnProperty;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(34)],o=function(t){function e(e,o){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=t&&o===n?r:o,this}var n,r="__lodash_hash_undefined__";return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(40)],o=function(t){function e(e){var n=t(this,e)["delete"](e);return this.size-=n?1:0,n}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(41)],o=function(t){function e(e,n){var r=e.__data__;return t(n)?r["string"==typeof n?"string":"hash"]:r.map}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(40)],o=function(t){function e(e){return t(this,e).get(e)}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(40)],o=function(t){function e(e){return t(this,e).has(e)}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(40)],o=function(t){function e(e,n){var r=t(this,e),o=r.size;return r.set(e,n),this.size+=r.size==o?0:1,this}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(47),n(10)],o=function(t,e){function n(n,o,i){(i===r||e(n[o],i))&&("number"!=typeof o||i!==r||o in n)||t(n,o,i)}var r;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}var e=Object.defineProperty;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(23),n(49),n(50)],o=function(t,e,n){function r(r){if(!t(r))return n(r);var o=e(r),u=[];for(var a in r)("constructor"!=a||!o&&i.call(r,a))&&u.push(a);return u}var o=Object.prototype,i=o.hasOwnProperty;return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var n=t&&t.constructor,r="function"==typeof n&&n.prototype||e;return t===r}var e=Object.prototype;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(46),n(59),n(52),n(53),n(58),n(54),n(22),n(23),n(105),n(106),n(110)],o=function(t,e,n,r,o,i,u,a,c,s,f){function p(p,v,d,y,h,b,_){var j=p[d],x=v[d],g=_.get(x);if(g)return void t(p,d,g);var w=b?b(j,x,d+"",p,v,_):l,O=w===l;O&&(w=x,o(x)||s(x)?o(j)?w=j:i(j)?w=n(j):(O=!1,w=e(x,!0)):c(x)||r(x)?r(j)?w=f(j):!a(j)||y&&u(j)?(O=!1,w=e(x,!0)):w=j:O=!1),O&&(_.set(x,w),h(w,x,y,b,_),_["delete"](x)),t(p,d,w)}var l;return p}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(54)],o=function(t){function e(e){return t(e)&&o.call(e,"callee")&&(!u.call(e,"callee")||i.call(e)==n)}var n="[object Arguments]",r=Object.prototype,o=r.hasOwnProperty,i=r.toString,u=r.propertyIsEnumerable;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(55),n(57)],o=function(t,e){function n(n){return e(n)&&t(n)}return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(22),n(56)],o=function(t,e){function n(n){return null!=n&&e(n.length)&&!t(n)}return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}var e=9007199254740991;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return null!=t&&"object"==typeof t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){var t=Array.isArray;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(5),n(45),n(66),n(67),n(76),n(52),n(78),n(81),n(60),n(84),n(85),n(100),n(58),n(103),n(23),n(69)],o=function(t,e,n,r,o,i,u,a,c,s,f,p,l,v,d,y){function h(j,x,g,w,k,P,S){var D;if(w&&(D=P?w(j,k,P,S):w(j)),D!==b)return D;if(!d(j))return j;var E=l(j);if(E){if(D=s(j),!x)return i(j,D)}else{var M=c(j),I=M==O||M==m;if(v(j))return o(j,x);if(M==A||M==_||I&&!P){if(D=p(I?{}:j),!x)return u(j,r(D,j))}else{if(!K[M])return P?j:{};D=f(j,M,h,x)}}S||(S=new t);var U=S.get(j);if(U)return U;if(S.set(j,D),!E)var z=g?a(j):y(j);return e(z||j,function(t,e){z&&(e=t,t=j[e]),n(D,e,h(t,x,g,w,e,j,S))}),D}var b,_="[object Arguments]",j="[object Array]",x="[object Boolean]",g="[object Date]",w="[object Error]",O="[object Function]",m="[object GeneratorFunction]",k="[object Map]",P="[object Number]",A="[object Object]",S="[object RegExp]",D="[object Set]",E="[object String]",M="[object Symbol]",I="[object WeakMap]",U="[object ArrayBuffer]",z="[object DataView]",R="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",B="[object Uint8Array]",$="[object Uint8ClampedArray]",V="[object Uint16Array]",N="[object Uint32Array]",K={};return K[_]=K[j]=K[U]=K[z]=K[x]=K[g]=K[R]=K[T]=K[C]=K[F]=K[q]=K[k]=K[P]=K[A]=K[S]=K[D]=K[E]=K[M]=K[B]=K[$]=K[V]=K[N]=!0,K[w]=K[O]=K[I]=!1,h}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(61),n(19),n(62),n(63),n(64),n(65),n(28)],o=function(t,e,n,r,o,i,u){var a,c="[object Map]",s="[object Object]",f="[object Promise]",p="[object Set]",l="[object WeakMap]",v="[object DataView]",d=Object.prototype,y=d.toString,h=u(t),b=u(e),_=u(n),j=u(r),x=u(o),g=i;return(t&&g(new t(new ArrayBuffer(1)))!=v||e&&g(new e)!=c||n&&g(n.resolve())!=f||r&&g(new r)!=p||o&&g(new o)!=l)&&(g=function(t){var e=y.call(t),n=e==s?t.constructor:a,r=n?u(n):a;if(r)switch(r){case h:return v;case b:return c;case _:return f;case j:return p;case x:return l}return e}),g}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20),n(26)],o=function(t,e){var n=t(e,"DataView");return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20),n(26)],o=function(t,e){var n=t(e,"Promise");return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20),n(26)],o=function(t,e){var n=t(e,"Set");return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20),n(26)],o=function(t,e){var n=t(e,"WeakMap");return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return n.call(t)}var e=Object.prototype,n=e.toString;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(47),n(10)],o=function(t,e){function n(n,o,u){var a=n[o];i.call(n,o)&&e(a,u)&&(u!==r||o in n)||t(n,o,u)}var r,o=Object.prototype,i=o.hasOwnProperty;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(68),n(69)],o=function(t,e){function n(n,r){return n&&t(r,e(r),n)}return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(66),n(47)],o=function(t,e){function n(n,o,i,u){var a=!i;i||(i={});for(var c=-1,s=o.length;++c<s;){var f=o[c],p=u?u(i[f],n[f],f,i,n):r;p===r&&(p=n[f]),a?e(i,f,p):t(i,f,p)}return i}var r;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(70),n(73),n(55)],o=function(t,e,n){function r(r){return n(r)?t(r):e(r)}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(71),n(53),n(58),n(72)],o=function(t,e,n,r){function o(o,i){var a=n(o)||e(o)?t(o.length,String):[],c=a.length,s=!!c;for(var f in o)!i&&!u.call(o,f)||s&&("length"==f||r(f,c))||a.push(f);return a}var i=Object.prototype,u=i.hasOwnProperty;return o}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,r){return r=null==r?e:r,!!r&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<r}var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(49),n(74)],o=function(t,e){function n(n){if(!t(n))return e(n);var r=[];for(var i in Object(n))o.call(n,i)&&"constructor"!=i&&r.push(i);return r}var r=Object.prototype,o=r.hasOwnProperty;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(75)],o=function(t){var e=t(Object.keys,Object);return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){return function(n){return t(e(n))}}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;(function(t){r=[n(26)],o=function(n){function r(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}var o,i="object"==typeof e&&e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i,c=a?n.Buffer:o,s=c?c.allocUnsafe:o;return r}.apply(e,r),!(void 0!==o&&(t.exports=o))}).call(e,n(77)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r,o;r=[n(68),n(79)],o=function(t,e){function n(n,r){return t(n,e(n),r)}return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(75),n(80)],o=function(t,e){var n=Object.getOwnPropertySymbols,r=n?t(n,Object):e;return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(){return[]}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(82),n(79),n(69)],o=function(t,e,n){function r(r){return t(r,n,e)}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(83),n(58)],o=function(t,e){function n(n,r,o){var i=r(n);return e(n)?i:t(i,o(n))}return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var e=Object.prototype,n=e.hasOwnProperty;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(86),n(88),n(89),n(93),n(94),n(97),n(99)],o=function(t,e,n,r,o,i,u){function a(a,A,S,D){var E=a.constructor;switch(A){case h:return t(a);case c:case s:return new E((+a));case b:return e(a,D);case _:case j:case x:case g:case w:case O:case m:case k:case P:return u(a,D);case f:return n(a,D,S);case p:case d:return new E(a);case l:return r(a);case v:return o(a,D,S);case y:return i(a)}}var c="[object Boolean]",s="[object Date]",f="[object Map]",p="[object Number]",l="[object RegExp]",v="[object Set]",d="[object String]",y="[object Symbol]",h="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",g="[object Int16Array]",w="[object Int32Array]",O="[object Uint8Array]",m="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]";return a}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(87)],o=function(t){function e(e){var n=new e.constructor(e.byteLength);return new t(n).set(new t(e)),n}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(26)],o=function(t){var e=t.Uint8Array;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(86)],o=function(t){function e(e,n){var r=n?t(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(90),n(91),n(92)],o=function(t,e,n){function r(r,o,i){var u=o?i(n(r),!0):n(r);return e(u,t,new r.constructor)}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){return t.set(e[0],e[1]),t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}var e=/\w*$/;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(95),n(91),n(96)],o=function(t,e,n){function r(r,o,i){var u=o?i(n(r),!0):n(r);return e(u,t,new r.constructor)}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e){return t.add(e),t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(98)],o=function(t){function e(t){return o?Object(o.call(t)):{}}var n,r=t?t.prototype:n,o=r?r.valueOf:n;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(26)],o=function(t){var e=t.Symbol;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(86)],o=function(t){function e(e,n){var r=n?t(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(101),n(102),n(49)],o=function(t,e,n){function r(r){return"function"!=typeof r.constructor||n(r)?{}:t(e(r))}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(23)],o=function(t){var e,n=Object.create,r=function(){function r(){}return function(o){if(!t(o))return{};if(n)return n(o);r.prototype=prototype;var i=new r;return r.prototype=e,i}}();return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(75)],o=function(t){var e=t(Object.getPrototypeOf,Object);return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;(function(t){r=[n(26),n(104)],o=function(n,r){var o,i="object"==typeof e&&e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i,c=a?n.Buffer:o,s=c?c.isBuffer:o,f=s||r;return f}.apply(e,r),!(void 0!==o&&(t.exports=o))}).call(e,n(77)(t))},function(t,e,n){var r,o;r=[],o=function(){function t(){return!1}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(102),n(57)],o=function(t,e){function n(n){if(!e(n)||s.call(n)!=r)return!1;var o=t(n);if(null===o)return!0;var i=a.call(o,"constructor")&&o.constructor;return"function"==typeof i&&i instanceof i&&u.call(i)==c}var r="[object Object]",o=Function.prototype,i=Object.prototype,u=o.toString,a=i.hasOwnProperty,c=u.call(Object),s=i.toString;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(107),n(108),n(109)],o=function(t,e,n){var r=n&&n.isTypedArray,o=r?e(r):t;return o}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(56),n(57)],o=function(t,e){function n(n){return e(n)&&t(n.length)&&!!A[D.call(n)]}var r="[object Arguments]",o="[object Array]",i="[object Boolean]",u="[object Date]",a="[object Error]",c="[object Function]",s="[object Map]",f="[object Number]",p="[object Object]",l="[object RegExp]",v="[object Set]",d="[object String]",y="[object WeakMap]",h="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",j="[object Float64Array]",x="[object Int8Array]",g="[object Int16Array]",w="[object Int32Array]",O="[object Uint8Array]",m="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]",A={};A[_]=A[j]=A[x]=A[g]=A[w]=A[O]=A[m]=A[k]=A[P]=!0,A[r]=A[o]=A[h]=A[i]=A[b]=A[u]=A[a]=A[c]=A[s]=A[f]=A[p]=A[l]=A[v]=A[d]=A[y]=!1;var S=Object.prototype,D=S.toString;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return function(e){return t(e)}}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;(function(t){r=[n(27)],o=function(n){var r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===r,u=i&&n.process,a=function(){try{return u&&u.binding("util")}catch(t){}}();return a}.apply(e,r),!(void 0!==o&&(t.exports=o))}).call(e,n(77)(t))},function(t,e,n){var r,o;r=[n(68),n(111)],o=function(t,e){function n(n){return t(n,e(n))}return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(70),n(48),n(55)],o=function(t,e,n){function r(r){return n(r)?t(r,!0):e(r)}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(113),n(122)],o=function(t,e){function n(n){return t(function(t,o){var i=-1,u=o.length,a=u>1?o[u-1]:r,c=u>2?o[2]:r;for(a=n.length>3&&"function"==typeof a?(u--,a):r,c&&e(o[0],o[1],c)&&(a=u<3?r:a,u=1),t=Object(t);++i<u;){var s=o[i];s&&n(t,s,i,a)}return t})}var r;return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(114),n(115),n(117)],o=function(t,e,n){function r(r,o){return n(e(r,o,t),r+"")}return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return t}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(116)],o=function(t){function e(e,o,i){return o=r(o===n?e.length-1:o,0),function(){for(var n=arguments,u=-1,a=r(n.length-o,0),c=Array(a);++u<a;)c[u]=n[o+u];u=-1;for(var s=Array(o+1);++u<o;)s[u]=n[u];return s[o]=i(c),t(e,this,s)}}var n,r=Math.max;return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(118),n(121)],o=function(t,e){var n=e(t);return n}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(119),n(114),n(120)],o=function(t,e,n){var r=n?function(e,r){return n(e,"toString",{configurable:!0,enumerable:!1,value:t(r),writable:!0})}:e;return r}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){return function(){return t}}return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(20)],o=function(t){var e=t(Object,"defineProperty");return e}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[],o=function(){function t(t){var i=0,u=0;return function(){var a=o(),c=r-(a-u);if(u=a,c>0){if(++i>=n)return arguments[0]}else i=0;return t.apply(e,arguments)}}var e,n=500,r=16,o=Date.now;return t}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n(10),n(55),n(72),n(23)],o=function(t,e,n,r){function o(o,i,u){if(!r(u))return!1;var a=typeof i;return!!("number"==a?e(u)&&n(i,u.length):"string"==a&&i in u)&&t(u[i],o)}return o}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){
var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=n(3),s=r(c),f=n(124),p=r(f),l=function(){function t(e,n){o(this,t),this._client=e,this._baseUrl=n||"https://api.trakt.tv/"}return u(t,[{key:"get",value:function(t,e){return this.request("GET",t,e)}},{key:"post",value:function(t,e){return this.request("POST",t,e)}},{key:"request",value:function(t,e,n){var r=this;if(n=(0,s["default"])({headers:{},params:{},body:null,bodyType:"json",authenticated:!1,session:null,application:null,includeAppParameters:!1},n||{}),(0,a.isDefined)(n.application)||(n.application=this._client.application),n.headers["trakt-api-key"]=this._client.key,n.headers["trakt-api-version"]=2,n.authenticated){if(!(0,a.isDefined)(n.session))return this._client.getSession().then(function(o){return(0,a.isDefined)(o)?r.request(t,e,i({},n,{session:o})):Promise.reject(new Error("Authentication required, but an invalid session was returned"))},function(t){return Promise.reject(new Error("Authentication required, but no session is available (error: "+t.message+")"))});if(!(0,a.isDefined)(n.session.access_token))return Promise.reject(new Error('Invalid session provided, expected an object with the "access_token" property'));n.headers.Authorization="Bearer "+n.session.access_token}if((0,a.isDefined)(n.application)||(n.application={name:"trakt.js",version:this._client.build.version,date:this._client.build.date}),n.includeAppParameters===!0){if("POST"!==t)return Promise.reject(new Error('"includeAppParameters" can only be used with POST requests'));(0,a.isDefined)(n.application.version)&&(n.body.app_version=n.application.version),(0,a.isDefined)(n.application.date)&&(n.body.app_date=n.application.date)}if(n.headers["User-Agent"]=this._buildUserAgent(n.application),(0,a.isDefined)(n.body)){if("json"!==n.bodyType)throw new Error('Invalid "bodyType" provided: "'+n.bodyType+'"');n.body=JSON.stringify(n.body),n.headers["Content-Type"]="application/json"}return this._client.debug&&console.debug("[trakt.js] %s %o (options: %O)",t,e,n),fetch(this._baseUrl+e+"?"+this.encodeParameters(n.params),{method:t,headers:n.headers,body:n.body}).then(function(t){return t.json()})}},{key:"encodeParameters",value:function(t){return Object.keys(t).forEach(function(e){"undefined"==typeof t[e]&&delete t[e]}),p["default"].encode(t)}},{key:"_buildUserAgent",value:function(t){var e="";e+=(0,a.isDefined)(t.name)?t.name:"Unknown";var n=[t.version,t.date].filter(function(t){return(0,a.isDefined)(t)});return n.length<1?e:e+" ("+n.join("; ")+")"}},{key:"baseUrl",get:function(){return this._baseUrl}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";e.decode=e.parse=n(125),e.encode=e.stringify=n(126)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var u=/\+/g;t=t.split(e);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var c=t.length;a>0&&c>a&&(c=a);for(var s=0;s<c;++s){var f,p,l,v,d=t[s].replace(u,"%20"),y=d.indexOf(r);y>=0?(f=d.substr(0,y),p=d.substr(y+1)):(f=d,p=""),l=decodeURIComponent(f),v=decodeURIComponent(p),n(i,l)?Array.isArray(i[l])?i[l].push(v):i[l]=[i[l],v]:i[l]=v}return i}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(o){var i=encodeURIComponent(n(o))+r;return Array.isArray(t[o])?t[o].map(function(t){return i+encodeURIComponent(n(t))}).join(e):i+encodeURIComponent(n(t[o]))}).join(e):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SearchInterface=e.ScrobbleInterface=e.OAuthInterface=e.UserSettingsInterface=void 0;var o=n(128),i=r(o),u=n(130),a=r(u),c=n(131),s=r(c),f=n(132),p=r(f);e.UserSettingsInterface=i["default"],e.OAuthInterface=a["default"],e.ScrobbleInterface=s["default"],e.SearchInterface=p["default"],e["default"]={users:{settings:i["default"]},oauth:a["default"],scrobble:s["default"],search:p["default"]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(129),f=r(s),p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"get",value:function(t){return this.http.get("users/settings",a({},t,{authenticated:!0}))}}]),e}(f["default"]);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),u=function(){function t(e){r(this,t),this._client=(0,i.isDefined)(e)?e:null}return o(t,[{key:"http",get:function(){return(0,i.isDefined)(this._client)?this._client.http:null}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(2),f=n(129),p=r(f),l=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"authorizeUrl",value:function(t,e){if(!(0,s.isDefined)(this._client.key))throw new Error('Missing required client "key" parameter');return this._client.siteUrl+"oauth/authorize?"+this.http.encodeParameters({client_id:this._client.key,response_type:"code",redirect_uri:(0,s.isDefined)(t)?t:"urn:ietf:wg:oauth:2.0:oob",state:e})}},{key:"exchange",value:function(t,e,n){if(!(0,s.isDefined)(this._client.key))throw new Error('Missing required client "key" parameter');if(!(0,s.isDefined)(this._client.secret))throw new Error('Missing required client "secret" parameter');if(!(0,s.isDefined)(t))throw new Error('Invalid value provided for the "code" parameter');return(0,s.isDefined)(e)||(e="urn:ietf:wg:oauth:2.0:oob"),this.http.post("oauth/token",a({},n,{body:{client_id:this._client.key,client_secret:this._client.secret,code:t,redirect_uri:e,grant_type:"authorization_code"}})).then(function(t){return(0,s.isDefined)(t)?(t.redirect_uri=e,t):t})}},{key:"refresh",value:function(t,e,n){if(!(0,s.isDefined)(this._client.key))throw new Error('Missing required client "key" parameter');if(!(0,s.isDefined)(this._client.secret))throw new Error('Missing required client "secret" parameter');if(!(0,s.isDefined)(t))throw new Error('Invalid value provided for the "code" parameter');return this.http.post("oauth/token",a({},n,{body:{client_id:this._client.key,client_secret:this._client.secret,refresh_token:t,redirect_uri:(0,s.isDefined)(e)?e:"urn:ietf:wg:oauth:2.0:oob",grant_type:"refresh_token"}}))}}]),e}(p["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(129),f=r(s),p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"start",value:function(t,e,n){return this.http.post("scrobble/start",a({},n,{authenticated:!0,includeAppParameters:!0,body:a({},t,{progress:e})}))}},{key:"pause",value:function(t,e,n){return this.http.post("scrobble/pause",a({},n,{authenticated:!0,includeAppParameters:!0,body:a({},t,{progress:e})}))}},{key:"stop",value:function(t,e,n){return this.http.post("scrobble/stop",a({},n,{authenticated:!0,includeAppParameters:!0,body:a({},t,{progress:e})}))}}]),e}(f["default"]);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(2),f=n(129),p=r(f),l=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"lookup",value:function(t,e,n){if(!(0,s.isDefined)(t))throw new Error('Invalid value provided for the "type" parameter');if(!(0,s.isDefined)(e))throw new Error('Invalid value provided for the "id" parameter');return this.http.get("search",a({},n,{params:{id_type:t,id:e}}))}},{key:"query",value:function(t,e,n,r){if(!(0,s.isDefined)(t))throw new Error('Invalid value provided for the "query" parameter');return this.http.get("search",a({},r,{params:{query:t,type:e,year:n}}))}}]),e}(p["default"]);e["default"]=l,t.exports=e["default"]}])});
//# sourceMappingURL=trakt.min.js.map